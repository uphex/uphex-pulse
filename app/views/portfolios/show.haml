- content_for :title do
  %a{:href=>"/users/me/dashboard"}
    %span.icon-arrow-left2
  Edit portfolio

%h3
  Edit portfolio data
= form_for @portfolio, "/portfolios/#{@portfolio.id}",:method=>:put, :builder=>UtilityFormBuilder, :class=>'form form-horizontal' do |f|
  .form-group{:class=>('has-error' unless @portfolio.errors[:name].empty?)}
    %label{:for=>'name',:class=>['col-md-2 control-label'] }
      Name:
    .col-md-5
      = f.text_field :name, :class=>'form-control'
    = f.error_messages_for :name
  .form-actions
    .row
      .col-md-10{:class=>'col-md-offset-2'}
        = f.submit 'Send',:class => "btn btn-primary"

%h3
  Add providers
.row
  .col-md-10
    %a{:href=>"/auth/oauth-v2/google?portfolioid=#{@portfolio.id}",:class=>'button-standard'}
      Add Google
    %a{:href=>"/auth/oauth-v2/facebook?portfolioid=#{@portfolio.id}",:class=>'button-standard'}
      Add Facebook
    %a{:href=>"/auth/oauth-v1/twitter?portfolioid=#{@portfolio.id}",:class=>'button-standard'}
      Add Twitter

- unless @portfolio.providers.blank?
  %h3
    Current providers
  %table{:class=>'table table-bordered table-striped'}
    %thead
      %tr
        %th
          Name
        %th
          Provider name
        %th
    %tbody
      - @portfolio.providers.each do |provider|
        %tr
          %td
            = provider.name
          %td
            = provider.provider_name
          %td
            %a{:href=>"/providers/#{provider.id}",:class=>'button-standard'}
              Edit
            %a{:onclick=>"delete_form_#{provider.id}.submit();",:href=>'#',:class=>'button-standard'}
              Delete
              %form{:action=>"/providers/#{provider.id}",:method=>'POST',:id=>"delete_form_#{provider.id}"}
                = csrf_token_field
                %input{:type=>'hidden',:name=>'_method',:value=>'DELETE'}